language: generic 
sudo: required
services:
  - docker

before_install:

script:


after_success:
    - docker build -t stephanrotolante/node-service ./service/node-service

    - echo "$DOCKER_PASS" | docker login -u "$DOCKER_USERNAME" --password-stdin

    - docker push stephanrotolante/node-service


deploy:
    edge: true
    provider: elasticbeanstalk
    region: us-west-2
    app: services
    env: services-env
    bucket_name: elasticbeanstalk-us-west-2-777758686357
    bucket_path: services-multi
    on:
        branch: master
    access_key_id: $AWS_ID
    secret_access_key: $AWS_SECRET